<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Autosonography: RoboLibrary.ModBus Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Autosonography
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">Software needed to perform an automatic mammography/sonography</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_robo_library.html">RoboLibrary</a></li><li class="navelem"><a class="el" href="class_robo_library_1_1_mod_bus.html">ModBus</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="#events">Events</a> &#124;
<a href="class_robo_library_1_1_mod_bus-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RoboLibrary.ModBus Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Modbus TCP common driver class. This class implements a modbus TCP master driver. It supports the following commands:  
 <a href="class_robo_library_1_1_mod_bus.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a497317cafb760023aef4af60fba95c0b"><td class="memItemLeft" align="right" valign="top">delegate void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a497317cafb760023aef4af60fba95c0b">ResponseData</a> (ushort id, byte unit, byte function, byte[] data)</td></tr>
<tr class="memdesc:a497317cafb760023aef4af60fba95c0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response data event. This event is called when new data arrives <a href="#a497317cafb760023aef4af60fba95c0b">More...</a><br /></td></tr>
<tr class="separator:a497317cafb760023aef4af60fba95c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac78341a28ded6af9cc33c594315e7c06"><td class="memItemLeft" align="right" valign="top">delegate void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#ac78341a28ded6af9cc33c594315e7c06">ExceptionData</a> (ushort id, byte unit, byte function, byte exception)</td></tr>
<tr class="memdesc:ac78341a28ded6af9cc33c594315e7c06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exception data event. This event is called when the data is incorrect <a href="#ac78341a28ded6af9cc33c594315e7c06">More...</a><br /></td></tr>
<tr class="separator:ac78341a28ded6af9cc33c594315e7c06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a060babdf6c052c1b86a160d8ddf68ef1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a060babdf6c052c1b86a160d8ddf68ef1">ModBus</a> ()</td></tr>
<tr class="memdesc:a060babdf6c052c1b86a160d8ddf68ef1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create master instance without parameters. <a href="#a060babdf6c052c1b86a160d8ddf68ef1">More...</a><br /></td></tr>
<tr class="separator:a060babdf6c052c1b86a160d8ddf68ef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7338590ea8f3a27978f7a8e6eebe92"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a9d7338590ea8f3a27978f7a8e6eebe92">ModBus</a> (string ip, ushort port)</td></tr>
<tr class="memdesc:a9d7338590ea8f3a27978f7a8e6eebe92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create master instance with parameters. <a href="#a9d7338590ea8f3a27978f7a8e6eebe92">More...</a><br /></td></tr>
<tr class="separator:a9d7338590ea8f3a27978f7a8e6eebe92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac84e8e0281a5b3089742e860cfdd25e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#ac84e8e0281a5b3089742e860cfdd25e5">Disconnect</a> ()</td></tr>
<tr class="memdesc:ac84e8e0281a5b3089742e860cfdd25e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop connection to slave. <a href="#ac84e8e0281a5b3089742e860cfdd25e5">More...</a><br /></td></tr>
<tr class="separator:ac84e8e0281a5b3089742e860cfdd25e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6c8875d17a35857e67b03d323242477"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#ac6c8875d17a35857e67b03d323242477">ReadInputRegister</a> (ushort id, byte unit, ushort startAddress, ushort numInputs)</td></tr>
<tr class="memdesc:ac6c8875d17a35857e67b03d323242477"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read input registers from slave asynchronous. The result is given in the response function. <a href="#ac6c8875d17a35857e67b03d323242477">More...</a><br /></td></tr>
<tr class="separator:ac6c8875d17a35857e67b03d323242477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad29bd993efa327748d9929067370bc1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#ad29bd993efa327748d9929067370bc1a">ReadInputRegister</a> (ushort id, byte unit, ushort startAddress, ushort numInputs, ref byte[] values)</td></tr>
<tr class="memdesc:ad29bd993efa327748d9929067370bc1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read input registers from slave synchronous. <a href="#ad29bd993efa327748d9929067370bc1a">More...</a><br /></td></tr>
<tr class="separator:ad29bd993efa327748d9929067370bc1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0634f07f2e7a02d5a44463eb5f6e7e39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a0634f07f2e7a02d5a44463eb5f6e7e39">WriteMultipleRegister</a> (ushort id, byte unit, ushort startAddress, byte[] values)</td></tr>
<tr class="memdesc:a0634f07f2e7a02d5a44463eb5f6e7e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write multiple registers in slave asynchronous. The result is given in the response function. <a href="#a0634f07f2e7a02d5a44463eb5f6e7e39">More...</a><br /></td></tr>
<tr class="separator:a0634f07f2e7a02d5a44463eb5f6e7e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a205c787f13c0068e875197112552f3a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a205c787f13c0068e875197112552f3a6">WriteMultipleRegister</a> (ushort id, byte unit, ushort startAddress, byte[] values, ref byte[] result)</td></tr>
<tr class="memdesc:a205c787f13c0068e875197112552f3a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write multiple registers in slave synchronous. <a href="#a205c787f13c0068e875197112552f3a6">More...</a><br /></td></tr>
<tr class="separator:a205c787f13c0068e875197112552f3a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a7d880ad2a5e4f294d9ce80ab4b201894"><td class="memItemLeft" align="right" valign="top">const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a7d880ad2a5e4f294d9ce80ab4b201894">excIllegalFunction</a> = 1</td></tr>
<tr class="memdesc:a7d880ad2a5e4f294d9ce80ab4b201894"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant for exception illegal function. <a href="#a7d880ad2a5e4f294d9ce80ab4b201894">More...</a><br /></td></tr>
<tr class="separator:a7d880ad2a5e4f294d9ce80ab4b201894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b8c0ab4af8f79c7c914116cf96a3753"><td class="memItemLeft" align="right" valign="top">const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a2b8c0ab4af8f79c7c914116cf96a3753">excIllegalDataAdr</a> = 2</td></tr>
<tr class="memdesc:a2b8c0ab4af8f79c7c914116cf96a3753"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant for exception illegal data address. <a href="#a2b8c0ab4af8f79c7c914116cf96a3753">More...</a><br /></td></tr>
<tr class="separator:a2b8c0ab4af8f79c7c914116cf96a3753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08b557ce75222b5972a6a5b92b6efa99"><td class="memItemLeft" align="right" valign="top">const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a08b557ce75222b5972a6a5b92b6efa99">excIllegalDataVal</a> = 3</td></tr>
<tr class="memdesc:a08b557ce75222b5972a6a5b92b6efa99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant for exception illegal data value. <a href="#a08b557ce75222b5972a6a5b92b6efa99">More...</a><br /></td></tr>
<tr class="separator:a08b557ce75222b5972a6a5b92b6efa99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f40b9de42b38035088cf579e960c59"><td class="memItemLeft" align="right" valign="top">const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a23f40b9de42b38035088cf579e960c59">excSlaveDeviceFailure</a> = 4</td></tr>
<tr class="memdesc:a23f40b9de42b38035088cf579e960c59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant for exception slave device failure. <a href="#a23f40b9de42b38035088cf579e960c59">More...</a><br /></td></tr>
<tr class="separator:a23f40b9de42b38035088cf579e960c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8bf5e0ad00a3996ab17afcc1b515ab6"><td class="memItemLeft" align="right" valign="top">const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#aa8bf5e0ad00a3996ab17afcc1b515ab6">excAck</a> = 5</td></tr>
<tr class="memdesc:aa8bf5e0ad00a3996ab17afcc1b515ab6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant for exception acknowledge. <a href="#aa8bf5e0ad00a3996ab17afcc1b515ab6">More...</a><br /></td></tr>
<tr class="separator:aa8bf5e0ad00a3996ab17afcc1b515ab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3057571657af1e777174499c9203aee8"><td class="memItemLeft" align="right" valign="top">const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a3057571657af1e777174499c9203aee8">excSlaveIsBusy</a> = 6</td></tr>
<tr class="memdesc:a3057571657af1e777174499c9203aee8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant for exception slave is busy/booting up. <a href="#a3057571657af1e777174499c9203aee8">More...</a><br /></td></tr>
<tr class="separator:a3057571657af1e777174499c9203aee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94b3937e354438a1e9adc5016c203cfe"><td class="memItemLeft" align="right" valign="top">const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a94b3937e354438a1e9adc5016c203cfe">excGatePathUnavailable</a> = 10</td></tr>
<tr class="memdesc:a94b3937e354438a1e9adc5016c203cfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant for exception gate path unavailable. <a href="#a94b3937e354438a1e9adc5016c203cfe">More...</a><br /></td></tr>
<tr class="separator:a94b3937e354438a1e9adc5016c203cfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c10f797e2ff5ffacb8c8795dd2590bb"><td class="memItemLeft" align="right" valign="top">const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a0c10f797e2ff5ffacb8c8795dd2590bb">excExceptionNotConnected</a> = 253</td></tr>
<tr class="memdesc:a0c10f797e2ff5ffacb8c8795dd2590bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant for exception not connected. <a href="#a0c10f797e2ff5ffacb8c8795dd2590bb">More...</a><br /></td></tr>
<tr class="separator:a0c10f797e2ff5ffacb8c8795dd2590bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb92b4598e76f2183460d34fa1c98b2f"><td class="memItemLeft" align="right" valign="top">const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#afb92b4598e76f2183460d34fa1c98b2f">excExceptionConnectionLost</a> = 254</td></tr>
<tr class="memdesc:afb92b4598e76f2183460d34fa1c98b2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant for exception connection lost. <a href="#afb92b4598e76f2183460d34fa1c98b2f">More...</a><br /></td></tr>
<tr class="separator:afb92b4598e76f2183460d34fa1c98b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d3833f9b9c658a3298105f096ee2f28"><td class="memItemLeft" align="right" valign="top">const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a0d3833f9b9c658a3298105f096ee2f28">excExceptionTimeout</a> = 255</td></tr>
<tr class="memdesc:a0d3833f9b9c658a3298105f096ee2f28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant for exception response timeout. <a href="#a0d3833f9b9c658a3298105f096ee2f28">More...</a><br /></td></tr>
<tr class="separator:a0d3833f9b9c658a3298105f096ee2f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a00b9ec8fc1d37c089ff1e2bee2f7a61a"><td class="memItemLeft" align="right" valign="top">ushort&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a00b9ec8fc1d37c089ff1e2bee2f7a61a">timeout</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a00b9ec8fc1d37c089ff1e2bee2f7a61a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response timeout. If the slave didn't answers within in this time an exception is called. <a href="#a00b9ec8fc1d37c089ff1e2bee2f7a61a">More...</a><br /></td></tr>
<tr class="separator:a00b9ec8fc1d37c089ff1e2bee2f7a61a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4043bd356bda6e89fd95247956b0708c"><td class="memItemLeft" align="right" valign="top">ushort&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a4043bd356bda6e89fd95247956b0708c">refresh</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a4043bd356bda6e89fd95247956b0708c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refresh timer for slave answer. The class is polling for answer every X ms. <a href="#a4043bd356bda6e89fd95247956b0708c">More...</a><br /></td></tr>
<tr class="separator:a4043bd356bda6e89fd95247956b0708c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a2fb9411e2257f48dd80672326fac1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#ab5a2fb9411e2257f48dd80672326fac1">connected</a><code> [get]</code></td></tr>
<tr class="memdesc:ab5a2fb9411e2257f48dd80672326fac1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows if a connection is active. <a href="#ab5a2fb9411e2257f48dd80672326fac1">More...</a><br /></td></tr>
<tr class="separator:ab5a2fb9411e2257f48dd80672326fac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="events"></a>
Events</h2></td></tr>
<tr class="memitem:a7b2d5617e91faf204d0c8454676353f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_robo_library_1_1_mod_bus.html#a497317cafb760023aef4af60fba95c0b">ResponseData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#a7b2d5617e91faf204d0c8454676353f3">OnResponseData</a></td></tr>
<tr class="memdesc:a7b2d5617e91faf204d0c8454676353f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response data event. This event is called when new data arrives <a href="#a7b2d5617e91faf204d0c8454676353f3">More...</a><br /></td></tr>
<tr class="separator:a7b2d5617e91faf204d0c8454676353f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af04afd761811816c0018a8788c33524f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_robo_library_1_1_mod_bus.html#ac78341a28ded6af9cc33c594315e7c06">ExceptionData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robo_library_1_1_mod_bus.html#af04afd761811816c0018a8788c33524f">OnException</a></td></tr>
<tr class="memdesc:af04afd761811816c0018a8788c33524f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exception data event. This event is called when the data is incorrect <a href="#af04afd761811816c0018a8788c33524f">More...</a><br /></td></tr>
<tr class="separator:af04afd761811816c0018a8788c33524f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Modbus TCP common driver class. This class implements a modbus TCP master driver. It supports the following commands: </p>
<p>Read coils Read discrete inputs Write single coil Write multiple cooils Read holding register Read input register Write single register Write multiple register</p>
<p>All commands can be sent in synchronous or asynchronous mode. If a value is accessed in synchronous mode the program will stop and wait for slave to response. If the slave didn't answer within a specified time a timeout exception is called. The class uses multi threading for both synchronous and asynchronous access. For the communication two lines are created. This is necessary because the synchronous thread has to wait for a previous command to finish.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a060babdf6c052c1b86a160d8ddf68ef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a060babdf6c052c1b86a160d8ddf68ef1">&sect;&nbsp;</a></span>ModBus() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RoboLibrary.ModBus.ModBus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create master instance without parameters.</p>

</div>
</div>
<a id="a9d7338590ea8f3a27978f7a8e6eebe92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d7338590ea8f3a27978f7a8e6eebe92">&sect;&nbsp;</a></span>ModBus() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RoboLibrary.ModBus.ModBus </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create master instance with parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ip</td><td>IP adress of modbus slave.</td></tr>
    <tr><td class="paramname">port</td><td>Port number of modbus slave. Usually port 502 is used.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac84e8e0281a5b3089742e860cfdd25e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac84e8e0281a5b3089742e860cfdd25e5">&sect;&nbsp;</a></span>Disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RoboLibrary.ModBus.Disconnect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop connection to slave.</p>

</div>
</div>
<a id="ac78341a28ded6af9cc33c594315e7c06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac78341a28ded6af9cc33c594315e7c06">&sect;&nbsp;</a></span>ExceptionData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delegate void RoboLibrary.ModBus.ExceptionData </td>
          <td>(</td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>exception</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exception data event. This event is called when the data is incorrect</p>

</div>
</div>
<a id="ac6c8875d17a35857e67b03d323242477"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6c8875d17a35857e67b03d323242477">&sect;&nbsp;</a></span>ReadInputRegister() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RoboLibrary.ModBus.ReadInputRegister </td>
          <td>(</td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>startAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>numInputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read input registers from slave asynchronous. The result is given in the response function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Unique id that marks the transaction. In asynchonous mode this id is given to the callback function.</td></tr>
    <tr><td class="paramname">unit</td><td>Unit identifier (previously slave address). In asynchonous mode this unit is given to the callback function.</td></tr>
    <tr><td class="paramname">startAddress</td><td>Address from where the data read begins.</td></tr>
    <tr><td class="paramname">numInputs</td><td>Length of data.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad29bd993efa327748d9929067370bc1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad29bd993efa327748d9929067370bc1a">&sect;&nbsp;</a></span>ReadInputRegister() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RoboLibrary.ModBus.ReadInputRegister </td>
          <td>(</td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>startAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>numInputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ref byte []&#160;</td>
          <td class="paramname"><em>values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read input registers from slave synchronous.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Unique id that marks the transaction. In asynchonous mode this id is given to the callback function.</td></tr>
    <tr><td class="paramname">unit</td><td>Unit identifier (previously slave address). In asynchonous mode this unit is given to the callback function.</td></tr>
    <tr><td class="paramname">startAddress</td><td>Address from where the data read begins.</td></tr>
    <tr><td class="paramname">numInputs</td><td>Length of data.</td></tr>
    <tr><td class="paramname">values</td><td>Contains the result of function.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a497317cafb760023aef4af60fba95c0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a497317cafb760023aef4af60fba95c0b">&sect;&nbsp;</a></span>ResponseData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delegate void RoboLibrary.ModBus.ResponseData </td>
          <td>(</td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte []&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Response data event. This event is called when new data arrives</p>

</div>
</div>
<a id="a0634f07f2e7a02d5a44463eb5f6e7e39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0634f07f2e7a02d5a44463eb5f6e7e39">&sect;&nbsp;</a></span>WriteMultipleRegister() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RoboLibrary.ModBus.WriteMultipleRegister </td>
          <td>(</td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>startAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte []&#160;</td>
          <td class="paramname"><em>values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write multiple registers in slave asynchronous. The result is given in the response function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Unique id that marks the transaction. In asynchonous mode this id is given to the callback function.</td></tr>
    <tr><td class="paramname">unit</td><td>Unit identifier (previously slave address). In asynchonous mode this unit is given to the callback function.</td></tr>
    <tr><td class="paramname">startAddress</td><td>Address to where the data is written.</td></tr>
    <tr><td class="paramname">values</td><td>Contains the register information.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a205c787f13c0068e875197112552f3a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a205c787f13c0068e875197112552f3a6">&sect;&nbsp;</a></span>WriteMultipleRegister() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RoboLibrary.ModBus.WriteMultipleRegister </td>
          <td>(</td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>startAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte []&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ref byte []&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write multiple registers in slave synchronous.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Unique id that marks the transaction. In asynchonous mode this id is given to the callback function.</td></tr>
    <tr><td class="paramname">unit</td><td>Unit identifier (previously slave address). In asynchonous mode this unit is given to the callback function.</td></tr>
    <tr><td class="paramname">startAddress</td><td>Address to where the data is written.</td></tr>
    <tr><td class="paramname">values</td><td>Contains the register information.</td></tr>
    <tr><td class="paramname">result</td><td>Contains the result of the synchronous write.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa8bf5e0ad00a3996ab17afcc1b515ab6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8bf5e0ad00a3996ab17afcc1b515ab6">&sect;&nbsp;</a></span>excAck</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const byte RoboLibrary.ModBus.excAck = 5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant for exception acknowledge.</p>

</div>
</div>
<a id="afb92b4598e76f2183460d34fa1c98b2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb92b4598e76f2183460d34fa1c98b2f">&sect;&nbsp;</a></span>excExceptionConnectionLost</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const byte RoboLibrary.ModBus.excExceptionConnectionLost = 254</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant for exception connection lost.</p>

</div>
</div>
<a id="a0c10f797e2ff5ffacb8c8795dd2590bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c10f797e2ff5ffacb8c8795dd2590bb">&sect;&nbsp;</a></span>excExceptionNotConnected</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const byte RoboLibrary.ModBus.excExceptionNotConnected = 253</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant for exception not connected.</p>

</div>
</div>
<a id="a0d3833f9b9c658a3298105f096ee2f28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d3833f9b9c658a3298105f096ee2f28">&sect;&nbsp;</a></span>excExceptionTimeout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const byte RoboLibrary.ModBus.excExceptionTimeout = 255</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant for exception response timeout.</p>

</div>
</div>
<a id="a94b3937e354438a1e9adc5016c203cfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94b3937e354438a1e9adc5016c203cfe">&sect;&nbsp;</a></span>excGatePathUnavailable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const byte RoboLibrary.ModBus.excGatePathUnavailable = 10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant for exception gate path unavailable.</p>

</div>
</div>
<a id="a2b8c0ab4af8f79c7c914116cf96a3753"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b8c0ab4af8f79c7c914116cf96a3753">&sect;&nbsp;</a></span>excIllegalDataAdr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const byte RoboLibrary.ModBus.excIllegalDataAdr = 2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant for exception illegal data address.</p>

</div>
</div>
<a id="a08b557ce75222b5972a6a5b92b6efa99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08b557ce75222b5972a6a5b92b6efa99">&sect;&nbsp;</a></span>excIllegalDataVal</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const byte RoboLibrary.ModBus.excIllegalDataVal = 3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant for exception illegal data value.</p>

</div>
</div>
<a id="a7d880ad2a5e4f294d9ce80ab4b201894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d880ad2a5e4f294d9ce80ab4b201894">&sect;&nbsp;</a></span>excIllegalFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const byte RoboLibrary.ModBus.excIllegalFunction = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant for exception illegal function.</p>

</div>
</div>
<a id="a23f40b9de42b38035088cf579e960c59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23f40b9de42b38035088cf579e960c59">&sect;&nbsp;</a></span>excSlaveDeviceFailure</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const byte RoboLibrary.ModBus.excSlaveDeviceFailure = 4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant for exception slave device failure.</p>

</div>
</div>
<a id="a3057571657af1e777174499c9203aee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3057571657af1e777174499c9203aee8">&sect;&nbsp;</a></span>excSlaveIsBusy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const byte RoboLibrary.ModBus.excSlaveIsBusy = 6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant for exception slave is busy/booting up.</p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="ab5a2fb9411e2257f48dd80672326fac1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5a2fb9411e2257f48dd80672326fac1">&sect;&nbsp;</a></span>connected</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool RoboLibrary.ModBus.connected</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shows if a connection is active.</p>

</div>
</div>
<a id="a4043bd356bda6e89fd95247956b0708c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4043bd356bda6e89fd95247956b0708c">&sect;&nbsp;</a></span>refresh</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ushort RoboLibrary.ModBus.refresh</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Refresh timer for slave answer. The class is polling for answer every X ms.</p>
<p>The default value is 10ms.</p>

</div>
</div>
<a id="a00b9ec8fc1d37c089ff1e2bee2f7a61a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00b9ec8fc1d37c089ff1e2bee2f7a61a">&sect;&nbsp;</a></span>timeout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ushort RoboLibrary.ModBus.timeout</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Response timeout. If the slave didn't answers within in this time an exception is called.</p>
<p>The default value is 500ms.</p>

</div>
</div>
<h2 class="groupheader">Event Documentation</h2>
<a id="af04afd761811816c0018a8788c33524f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af04afd761811816c0018a8788c33524f">&sect;&nbsp;</a></span>OnException</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_robo_library_1_1_mod_bus.html#ac78341a28ded6af9cc33c594315e7c06">ExceptionData</a> RoboLibrary.ModBus.OnException</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exception data event. This event is called when the data is incorrect</p>

</div>
</div>
<a id="a7b2d5617e91faf204d0c8454676353f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b2d5617e91faf204d0c8454676353f3">&sect;&nbsp;</a></span>OnResponseData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_robo_library_1_1_mod_bus.html#a497317cafb760023aef4af60fba95c0b">ResponseData</a> RoboLibrary.ModBus.OnResponseData</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Response data event. This event is called when new data arrives</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>RoboLibrary/ModBus.cs</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
